(function(){"use strict";var e={950:function(e,o,t){var a=t(5130),r=t(6768);const n={class:"app"};function l(e,o){const t=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(t)])}var s=t(1241);const i={},u=(0,s.A)(i,[["render",l]]);var d=u,c=t(1387);const g={class:"app-container"},p={class:"top-right"},m={class:"create-button-container"};function h(e,o,t,a,n,l){const s=(0,r.g2)("VerticalMenu"),i=(0,r.g2)("PopupMenu"),u=(0,r.g2)("DragonForm"),d=(0,r.g2)("DragonHeadForm"),c=(0,r.g2)("DragonCaveForm"),h=(0,r.g2)("PersonForm");return(0,r.uX)(),(0,r.CE)("div",g,[(0,r.bF)(s,{onNavigate:l.navigateToMainPage,onShowDragonheadTable:l.showDragonHeadTable,onShowDragoncaveTable:l.showDragonCaveTable,onShowPersonTable:l.showPersonTable},null,8,["onNavigate","onShowDragonheadTable","onShowDragoncaveTable","onShowPersonTable"]),(0,r.Lk)("div",p,[(0,r.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>l.showPopupMenu&&l.showPopupMenu(...e)),class:"popup-button"},"Menu"),n.isPopupVisible?((0,r.uX)(),(0,r.Wv)(i,{key:0,onClose:l.closePopupMenu},null,8,["onClose"])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",m,[((0,r.uX)(),(0,r.Wv)((0,r.$y)(n.currentCreateButton),{onCreateDragon:l.openCreateDragonForm,onCreateDragonHead:l.openCreateDragonHeadForm,onCreateDragonCave:l.openCreateDragonCaveForm,onCreatePerson:l.openCreatePersonForm},null,40,["onCreateDragon","onCreateDragonHead","onCreateDragonCave","onCreatePerson"]))]),((0,r.uX)(),(0,r.Wv)((0,r.$y)(n.currentTable),{dragons:n.dragons,persons:n.persons,dragonCaves:e.dragonCaves,dragonHeads:n.dragonHeads,onEditDragon:l.openEditDragonForm},null,40,["dragons","persons","dragonCaves","dragonHeads","onEditDragon"])),n.isCreateDragonFormVisible?((0,r.uX)(),(0,r.Wv)(u,{key:0,killers:n.persons,"dragon-data":n.editData,onSubmitDragon:l.handleDragonSubmit,onCloseForm:l.closeCreateDragonForm},null,8,["killers","dragon-data","onSubmitDragon","onCloseForm"])):(0,r.Q3)("",!0),n.isCreateDragonHeadFormVisible?((0,r.uX)(),(0,r.Wv)(d,{key:1,onSubmitDragonHead:l.handleDragonHeadSubmit,onCloseForm:l.closeCreateDragonHeadForm},null,8,["onSubmitDragonHead","onCloseForm"])):(0,r.Q3)("",!0),n.isCreateDragonCaveFormVisible?((0,r.uX)(),(0,r.Wv)(c,{key:2,onSubmitDragonCave:l.handleDragonCaveSubmit,onCloseForm:l.closeCreateDragonCaveForm},null,8,["onSubmitDragonCave","onCloseForm"])):(0,r.Q3)("",!0),n.isCreatePersonFormVisible?((0,r.uX)(),(0,r.Wv)(h,{key:3,onSubmitPerson:l.handlePersonSubmit,onCloseForm:l.closeCreatePersonForm},null,8,["onSubmitPerson","onCloseForm"])):(0,r.Q3)("",!0)])}t(4114);const C={class:"vertical-menu"};function b(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",C,[(0,r.Lk)("button",{onClick:o[0]||(o[0]=o=>e.$emit("navigate"))},"Dragon"),(0,r.Lk)("button",{onClick:o[1]||(o[1]=o=>e.$emit("show-dragonhead-table"))},"DragonHead"),(0,r.Lk)("button",{onClick:o[2]||(o[2]=o=>e.$emit("shot-dragoncave-table"))},"DragonCave"),(0,r.Lk)("button",{onClick:o[3]||(o[3]=o=>e.$emit("show-person-table"))},"Person"),(0,r.Lk)("button",{onClick:o[4]||(o[4]=o=>e.$emit("show-visualization"))},"Visualization")])}var v={name:"VerticalMenu"};const D=(0,s.A)(v,[["render",b]]);var k=D;const L={class:"popup-menu"};function f(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",L,[o[2]||(o[2]=(0,r.Lk)("p",null,"This is a popup menu.",-1)),(0,r.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>l.logout&&l.logout(...e))},"Logout"),(0,r.Lk)("button",{onClick:o[1]||(o[1]=o=>e.$emit("close"))},"Close")])}var y={name:"PopupMenu",methods:{logout(){axios.post("/backend-1.0-SNAPSHOT/auth/logout").then((e=>{console.log(e.data),localStorage.clear(),this.$router.push({path:"/login"})})).catch((e=>{console.error("Error during logout:",e.response?.data||e.message),alert("Failed to log out. Please try again.")}))}},mounted(){console.log(localStorage.getItem("isAuthorized"),localStorage.getItem("username"),localStorage.getItem("userId"))}};const P=(0,s.A)(y,[["render",f]]);var F=P,H=t(4232);const _=["onClick"];function T(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",null,[o[2]||(o[2]=(0,r.Lk)("h2",null,"Dragon List",-1)),(0,r.Lk)("table",null,[o[1]||(o[1]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"Creator ID"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Coordinates (X, Y)"),(0,r.Lk)("th",null,"Creation Date"),(0,r.Lk)("th",null,"Cave Depth"),(0,r.Lk)("th",null,"Number of Treasures"),(0,r.Lk)("th",null,"Killer Name"),(0,r.Lk)("th",null,"Age"),(0,r.Lk)("th",null,"Color"),(0,r.Lk)("th",null,"Type"),(0,r.Lk)("th",null,"Character"),(0,r.Lk)("th",null,"Head"),(0,r.Lk)("th",null,"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.dragons,(t=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",null,(0,H.v_)(t.id),1),(0,r.Lk)("td",null,(0,H.v_)(t.creatorID),1),(0,r.Lk)("td",null,(0,H.v_)(t.name),1),(0,r.Lk)("td",null,(0,H.v_)(t.coordinates.x)+", "+(0,H.v_)(t.coordinates.y),1),(0,r.Lk)("td",null,(0,H.v_)(t.creationDate),1),(0,r.Lk)("td",null,(0,H.v_)(t.cave.depth),1),(0,r.Lk)("td",null,(0,H.v_)(t.cave.numberOfTreasures),1),(0,r.Lk)("td",null,(0,H.v_)(t.killer?t.killer.name:"N/A"),1),(0,r.Lk)("td",null,(0,H.v_)(t.age),1),(0,r.Lk)("td",null,(0,H.v_)(t.color),1),(0,r.Lk)("td",null,(0,H.v_)(t.type),1),(0,r.Lk)("td",null,(0,H.v_)(t.character),1),(0,r.Lk)("td",null,(0,H.v_)(t.head),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:o=>e.$emit("edit-dragon",t)},"Edit",8,_),(0,r.Lk)("button",{onClick:o[0]||(o[0]=o=>e.$emit("delete-dragon",e.dragon_id))},"Delete")])])))),128))])])])}var S={data(){return{dragons:[]}},mounted(){}};const A=(0,s.A)(S,[["render",T],["__scopeId","data-v-b63a9c9e"]]);var w=A;function I(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",null,[o[1]||(o[1]=(0,r.Lk)("h2",null,"Dragon Head List",-1)),(0,r.Lk)("table",null,[o[0]||(o[0]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"CreatorID"),(0,r.Lk)("th",null,"Eyes Count"),(0,r.Lk)("th",null,"Tooth Count")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.dragonHeads,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,H.v_)(e.id),1),(0,r.Lk)("td",null,(0,H.v_)(e.creatorID),1),(0,r.Lk)("td",null,(0,H.v_)(e.eyesCount),1),(0,r.Lk)("td",null,(0,H.v_)(e.toothCount),1)])))),128))])])])}var E={data(){return{dragonHeads:[]}}};const V=(0,s.A)(E,[["render",I],["__scopeId","data-v-9aa184cc"]]);var X=V;function O(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",null,[o[1]||(o[1]=(0,r.Lk)("h2",null,"Person List",-1)),(0,r.Lk)("table",null,[o[0]||(o[0]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"CreatorID"),(0,r.Lk)("th",null,"Name"),(0,r.Lk)("th",null,"Eye Color"),(0,r.Lk)("th",null,"Hair Color"),(0,r.Lk)("th",null,"Coordinates (X, Y)"),(0,r.Lk)("th",null,"Location Name"),(0,r.Lk)("th",null,"Passport ID"),(0,r.Lk)("th",null,"Nationality")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.persons,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",null,(0,H.v_)(e.id),1),(0,r.Lk)("td",null,(0,H.v_)(e.creator_id),1),(0,r.Lk)("td",null,(0,H.v_)(e.name),1),(0,r.Lk)("td",null,(0,H.v_)(e.eyeColor),1),(0,r.Lk)("td",null,(0,H.v_)(e.hairColor?e.hairColor:"N/A"),1),(0,r.Lk)("td",null,(0,H.v_)(e.x)+", "+(0,H.v_)(e.y),1),(0,r.Lk)("td",null,(0,H.v_)(e.locationName?e.locationName:"N/A"),1),(0,r.Lk)("td",null,(0,H.v_)(e.passportID),1),(0,r.Lk)("td",null,(0,H.v_)(e.nationality),1)])))),128))])])])}var N={data(){return{persons:[]}}};const $=(0,s.A)(N,[["render",O],["__scopeId","data-v-78f4b73a"]]);var U=$;function J(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("button",{class:"create-dragon-button",onClick:o[0]||(o[0]=o=>e.$emit("create-dragon"))},"Create Dragon")}var B={name:"CreateDragonButton"};const M=(0,s.A)(B,[["render",J],["__scopeId","data-v-929b1378"]]);var q=M;function x(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("button",{class:"create-dragon-head-button",onClick:o[0]||(o[0]=o=>e.$emit("create-dragon-head"))},"Create DragonHead")}var z={name:"CreateDragonHeadButton"};const j=(0,s.A)(z,[["render",x],["__scopeId","data-v-66aaebe3"]]);var W=j;function Q(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("button",{class:"create-person-button",onClick:o[0]||(o[0]=o=>e.$emit("create-person"))},"Create Person")}var K={name:"CreatePersonButton"};const R=(0,s.A)(K,[["render",Q],["__scopeId","data-v-0b7d3a82"]]);var Y=R;const Z={class:"form-overlay"},G={class:"form-container"},ee=["value"];function oe(e,o,t,n,l,s){return(0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("div",G,[o[15]||(o[15]=(0,r.Lk)("h3",null,"Create New Dragon",-1)),(0,r.Lk)("form",{onSubmit:o[13]||(o[13]=(0,a.D$)(((...e)=>s.submitDragon&&s.submitDragon(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>s.formData.name=e),placeholder:"Name",required:""},null,512),[[a.Jo,s.formData.name]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>s.formData.coordinates.x=e),placeholder:"Coordinates X",required:""},null,512),[[a.Jo,s.formData.coordinates.x]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>s.formData.coordinates.y=e),placeholder:"Coordinates Y",required:""},null,512),[[a.Jo,s.formData.coordinates.y]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>s.formData.age=e),placeholder:"Age",required:""},null,512),[[a.Jo,s.formData.age]]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>s.formData.killerId=e),required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.killers,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,H.v_)(e.name),9,ee)))),128))],512),[[a.u1,s.formData.killerId]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>s.formData.color=e),placeholder:"Color"},null,512),[[a.Jo,s.formData.color]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[6]||(o[6]=e=>s.formData.type=e),placeholder:"Type"},null,512),[[a.Jo,s.formData.type]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[7]||(o[7]=e=>s.formData.character=e),placeholder:"Character"},null,512),[[a.Jo,s.formData.character]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[8]||(o[8]=e=>s.formData.head.eyesCount=e),placeholder:"Head Eyes Count",required:""},null,512),[[a.Jo,s.formData.head.eyesCount]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[9]||(o[9]=e=>s.formData.head.toothCount=e),placeholder:"Head Tooth Count",required:""},null,512),[[a.Jo,s.formData.head.toothCount]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[10]||(o[10]=e=>s.formData.cave.depth=e),type:"number",placeholder:"Cave Depth",required:""},null,512),[[a.Jo,s.formData.cave.depth]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[11]||(o[11]=e=>s.formData.cave.numberOfTreasures=e),type:"number",placeholder:"Number of Treasures",required:""},null,512),[[a.Jo,s.formData.cave.numberOfTreasures]]),o[14]||(o[14]=(0,r.Lk)("button",{type:"submit"},"Create",-1)),(0,r.Lk)("button",{type:"button",onClick:o[12]||(o[12]=(...e)=>s.closeForm&&s.closeForm(...e))},"Cancel")],32)])])}var te={props:{killers:Array,dragonData:{type:Object,default:null}},computed:{formData(){return this.dragonData||{name:"",coordinates:{x:"",y:""},age:"",killerId:null,color:"",type:"",character:"",head:{eyesCount:"",toothCount:""},cave:{depth:"",numberOfTreasures:""}}}},methods:{submitDragon(){this.$emit("submit-dragon",this.formData)},closeForm(){this.$emit("close-form")}}};const ae=(0,s.A)(te,[["render",oe],["__scopeId","data-v-5aba0664"]]);var re=ae;const ne={class:"form-overlay"},le={class:"form-container"};function se(e,o,t,n,l,s){return(0,r.uX)(),(0,r.CE)("div",ne,[(0,r.Lk)("div",le,[o[5]||(o[5]=(0,r.Lk)("h3",null,"Create New Dragon Head",-1)),(0,r.Lk)("form",{onSubmit:o[3]||(o[3]=(0,a.D$)(((...e)=>s.submitDragonHead&&s.submitDragonHead(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>l.dragonHeadData.eyesCount=e),placeholder:"Eyes Count",type:"number",required:""},null,512),[[a.Jo,l.dragonHeadData.eyesCount]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>l.dragonHeadData.toothCount=e),placeholder:"Tooth Count",type:"number",required:""},null,512),[[a.Jo,l.dragonHeadData.toothCount]]),o[4]||(o[4]=(0,r.Lk)("button",{type:"submit"},"Create",-1)),(0,r.Lk)("button",{type:"button",onClick:o[2]||(o[2]=(...e)=>s.closeForm&&s.closeForm(...e))},"Cancel")],32)])])}var ie={data(){return{dragonHeadData:{eyesCount:"",toothCount:""}}},methods:{submitDragonHead(){this.$emit("submit-dragon-head",this.dragonHeadData)},closeForm(){this.$emit("close-form")}}};const ue=(0,s.A)(ie,[["render",se],["__scopeId","data-v-79f9a1c1"]]);var de=ue;const ce={class:"form-overlay"},ge={class:"form-container"};function pe(e,o,t,n,l,s){return(0,r.uX)(),(0,r.CE)("div",ce,[(0,r.Lk)("div",ge,[o[9]||(o[9]=(0,r.Lk)("h3",null,"Create New Person",-1)),(0,r.Lk)("form",{onSubmit:o[7]||(o[7]=(0,a.D$)(((...e)=>s.submitPerson&&s.submitPerson(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>l.personData.name=e),placeholder:"Name",required:""},null,512),[[a.Jo,l.personData.name]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>l.personData.age=e),placeholder:"Age",type:"number",required:""},null,512),[[a.Jo,l.personData.age]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>l.personData.occupation=e),placeholder:"Occupation"},null,512),[[a.Jo,l.personData.occupation]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>l.personData.address.city=e),placeholder:"City"},null,512),[[a.Jo,l.personData.address.city]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>l.personData.address.street=e),placeholder:"Street"},null,512),[[a.Jo,l.personData.address.street]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>l.personData.address.zipCode=e),placeholder:"Zip Code"},null,512),[[a.Jo,l.personData.address.zipCode]]),o[8]||(o[8]=(0,r.Lk)("button",{type:"submit"},"Create",-1)),(0,r.Lk)("button",{type:"button",onClick:o[6]||(o[6]=(...e)=>s.closeForm&&s.closeForm(...e))},"Cancel")],32)])])}var me={data(){return{personData:{name:"",age:"",occupation:"",address:{city:"",street:"",zipCode:""}}}},methods:{submitPerson(){this.$emit("submit-person",this.personData)},closeForm(){this.$emit("close-form")}}};const he=(0,s.A)(me,[["render",pe],["__scopeId","data-v-36d59213"]]);var Ce=he,be=t(4373);function ve(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("div",null,[o[1]||(o[1]=(0,r.Lk)("h2",null,"Dragon Cave List",-1)),(0,r.Lk)("table",null,[o[0]||(o[0]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"ID"),(0,r.Lk)("th",null,"CreatorID"),(0,r.Lk)("th",null,"Depth"),(0,r.Lk)("th",null,"Number of Treasures")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.dragonCaves,(o=>((0,r.uX)(),(0,r.CE)("tr",{key:o.id},[(0,r.Lk)("td",null,(0,H.v_)(e.dragonHead.id),1),(0,r.Lk)("td",null,(0,H.v_)(e.dragonHead.creatorID),1),(0,r.Lk)("td",null,(0,H.v_)(e.dragonHead.depth),1),(0,r.Lk)("td",null,(0,H.v_)(e.dragonHead.numberOfTreasures),1)])))),128))])])])}var De={data(){return{dragonCaves:[]}}};const ke=(0,s.A)(De,[["render",ve],["__scopeId","data-v-717872e8"]]);var Le=ke;function fe(e,o,t,a,n,l){return(0,r.uX)(),(0,r.CE)("button",{class:"create-dragon-cave-button",onClick:o[0]||(o[0]=o=>e.$emit("create-dragon-cave"))},"Create DragonCave")}var ye={name:"CreateDragonCaveButton"};const Pe=(0,s.A)(ye,[["render",fe],["__scopeId","data-v-281d4db6"]]);var Fe=Pe;const He={class:"form-overlay"},_e={class:"form-container"};function Te(e,o,t,n,l,s){return(0,r.uX)(),(0,r.CE)("div",He,[(0,r.Lk)("div",_e,[o[5]||(o[5]=(0,r.Lk)("h3",null,"Create New Dragon Cave",-1)),(0,r.Lk)("form",{onSubmit:o[3]||(o[3]=(0,a.D$)(((...e)=>s.submitDragonCave&&s.submitDragonCave(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>l.dragonCaveData.depth=e),placeholder:"Depth",type:"number",required:""},null,512),[[a.Jo,l.dragonCaveData.depth]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=o=>e.dragonHeadData.numberOfTreasures=o),placeholder:"Number of treasures",type:"number",required:""},null,512),[[a.Jo,e.dragonHeadData.numberOfTreasures]]),o[4]||(o[4]=(0,r.Lk)("button",{type:"submit"},"Create",-1)),(0,r.Lk)("button",{type:"button",onClick:o[2]||(o[2]=(...e)=>s.closeForm&&s.closeForm(...e))},"Cancel")],32)])])}var Se={data(){return{dragonCaveData:{depth:"",numberOfTreasures:""}}},methods:{submitDragonCave(){this.$emit("submit-dragon-cave",this.dragonCaveData)},closeForm(){this.$emit("close-form")}}};const Ae=(0,s.A)(Se,[["render",Te],["__scopeId","data-v-7e2b24f8"]]);var we=Ae,Ie={components:{VerticalMenu:k,PopupMenu:F,DragonTable:w,DragonHeadTable:X,PersonTable:U,DragonCaveTable:Le,CreateDragonButton:q,CreateDragonHeadButton:W,CreatePersonButton:Y,CreateDragonCaveButton:Fe,DragonForm:re,DragonHeadForm:de,PersonForm:Ce,DragonCaveForm:we},data(){return{isPopupVisible:!1,currentTable:"DragonTable",currentCreateButton:"CreateDragonButton",dragons:[],dragonHeads:[],persons:[],polling:{dragons:null,dragonHeads:null,dragonCaves:null,persons:null},pollingInterval:5e3,isCreateDragonFormVisible:!1,isCreateDragonHeadFormVisible:!1,isCreatePersonFormVisible:!1,isCreateDragonCaveFormVisible:!1,editData:null}},methods:{navigateToMainPage(){this.$router.push({name:"main"}),this.stopPollingDragonHeads(),this.stopPollingPersons(),this.stopPollingDragonCaves(),this.startPollingDragons(),this.currentTable="DragonTable",this.currentCreateButton="CreateDragonButton"},showDragonHeadTable(){this.stopPollingDragons(),this.stopPollingPersons(),this.stopPollingDragonCaves(),this.startPollingDragonHeads(),this.currentTable="DragonHeadTable",this.currentCreateButton="CreateDragonHeadButton"},showDragonCaveTable(){this.stopPollingDragons(),this.stopPollingPersons(),this.stopPollingDragonHeads(),this.startPollingDragonCaves(),this.currentTable="DragonCaveTable",this.currentCreateButton="CreateDragonCaveButton"},showPersonTable(){this.stopPollingDragons(),this.stopPollingDragonHeads(),this.stopPollingDragonCaves(),this.startPollingPersons(),this.currentTable="PersonTable",this.currentCreateButton="CreatePersonButton"},showPopupMenu(){this.isPopupVisible=!this.isPopupVisible},closePopupMenu(){this.isPopupVisible=!1},openCreateDragonForm(){this.isCreateDragonFormVisible=!0},closeCreateDragonForm(){this.isCreateDragonFormVisible=!1},openCreateDragonHeadForm(){this.isCreateDragonHeadFormVisible=!0},closeCreateDragonHeadForm(){this.isCreateDragonHeadFormVisible=!1},openCreateDragonCaveForm(){this.isCreateDragonCaveFormVisible=!0},closeCreateDragonCaveForm(){this.isCreateDragonCaveFormVisible=!1},openCreatePersonForm(){this.isCreatePersonFormVisible=!0},closeCreatePersonForm(){this.isCreatePersonFormVisible=!1},openEditDragonForm(e){this.editData=e,this.isCreateDragonFormVisible=!0},handleDragonSubmit(e){be.A.post("/backend-1.0-SNAPSHOT/api/dragons",e).then((()=>{this.closeCreateDragonForm(),this.editData=null})).catch((e=>{console.error("Error submitting dragon:",e)}))},handleDragonHeadSubmit(e){be.A.post("/backend-1.0-SNAPSHOT/api/dragon-heads",e).then((()=>{this.closeCreateDragonHeadForm(),this.editData=null})).catch((e=>{console.error("Error submitting dragonHead:",e)}))},handleDragonCaveSubmit(e){be.A.post("/backend-1.0-SNAPSHOT/api/dragon-caves",e).then((()=>{this.closeCreateDragonHeadForm(),this.editData=null})).catch((e=>{console.error("Error submitting dragonHead:",e)}))},handlePersonSubmit(e){be.A.post("/backend-1.0-SNAPSHOT/api/persons",e).then((()=>{this.closeCreatePersonForm(),this.editData=null})).catch((e=>{console.error("Error submitting person:",e)}))},startPollingDragons(){const e=async()=>{try{const e=await be.A.get("/backend-1.0-SNAPSHOT/api/dragons");this.dragons=e.data}catch(o){console.error("Error fetching dragons:",o)}finally{this.polling.dragons=setTimeout(e,this.pollingInterval)}};e()},startPollingDragonHeads(){const e=async()=>{try{const e=await be.A.get("/backend-1.0-SNAPSHOT/api/dragon-heads");this.dragonHeads=e.data}catch(o){console.error("Error fetching dragon heads:",o)}finally{this.polling.dragonHeads=setTimeout(e,this.pollingInterval)}};e()},startPollingDragonCaves(){const e=async()=>{try{const e=await be.A.get("/backend-1.0-SNAPSHOT/api/dragon-caves");this.dragonCaves=e.data}catch(o){console.error("Error fetching dragonCaves:",o)}finally{this.polling.dragonCaves=setTimeout(e,this.pollingInterval)}};e()},startPollingPersons(){const e=async()=>{try{const e=await be.A.get("/backend-1.0-SNAPSHOT/api/persons");this.persons=e.data}catch(o){console.error("Error fetching persons:",o)}finally{this.polling.persons=setTimeout(e,this.pollingInterval)}};e()},stopPollingDragons(){clearTimeout(this.polling.dragons),this.polling.dragons=null},stopPollingDragonHeads(){clearTimeout(this.polling.dragonHeads),this.polling.dragonHeads=null},stopPollingDragonCaves(){clearTimeout(this.polling.dragonCaves),this.polling.dragonCaves=null},stopPollingPersons(){clearTimeout(this.polling.persons),this.polling.persons=null}},mounted(){this.navigateToMainPage()},beforeDestroy(){this.stopPollingDragons(),this.stopPollingDragonHeads(),this.stopPollingDragonCaves(),this.stopPollingPersons()}};const Ee=(0,s.A)(Ie,[["render",h],["__scopeId","data-v-3d811ab3"]]);var Ve=Ee;const Xe={class:"login-page"},Oe={class:"content-wrapper"};function Ne(e,o,t,a,n,l){const s=(0,r.g2)("auth-form");return(0,r.uX)(),(0,r.CE)("div",Xe,[(0,r.Lk)("div",Oe,[o[0]||(o[0]=(0,r.Lk)("h1",{class:"page-description"},"Welcome to the Information Systems Lab - Login Page",-1)),(0,r.bF)(s)])])}const $e={key:0,class:"error-message"},Ue={key:1,class:"error-message"},Je={class:"btn_container"};function Be(e,o,t,n,l,s){return(0,r.uX)(),(0,r.CE)("form",{onSubmit:o[4]||(o[4]=(0,a.D$)((()=>{}),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>l.usr.login=e),class:"input",type:"text",placeholder:"login"},null,512),[[a.Jo,l.usr.login,void 0,{trim:!0}]]),l.errors.login?((0,r.uX)(),(0,r.CE)("p",$e,(0,H.v_)(l.errors.login),1)):(0,r.Q3)("",!0),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>l.usr.password=e),class:"input",type:"password",placeholder:"password"},null,512),[[a.Jo,l.usr.password,void 0,{trim:!0}]]),l.errors.password?((0,r.uX)(),(0,r.CE)("p",Ue,(0,H.v_)(l.errors.password),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",Je,[(0,r.Lk)("button",{class:"btn",onClick:o[2]||(o[2]=(...e)=>s.try_register&&s.try_register(...e))},"register"),(0,r.Lk)("button",{class:"btn",onClick:o[3]||(o[3]=(...e)=>s.try_auth&&s.try_auth(...e))},"submit")])],32)}var Me=t(782),qe={data(){return{usr:{login:"",password:""},errors:{login:"",password:""}}},methods:{...(0,Me.PY)("dotModule",["setAuthorized"]),auth(e){this.setAuthorized(e)},try_auth(){this.validateFields()&&be.A.post("/backend-1.0-SNAPSHOT/auth/login",{username:this.usr.login,password:this.usr.password}).then((e=>{if(200===e.status){const o=e.data;this.auth(!0),localStorage.setItem("isAuthorized",!0),localStorage.setItem("userId",o.userId),localStorage.setItem("username",o.username),localStorage.setItem("userRole",o.role),Ye.push("/main")}})).catch((e=>{console.error(e),this.errors.login="Invalid username or password"}))},try_register(){be.A.defaults.baseURL="/backend-1.0-SNAPSHOT/",this.validateFields()&&be.A.post("/backend-1.0-SNAPSHOT/api/auth/register",{username:this.usr.login,password:this.usr.password}).then((e=>{201===e.status?alert("Registration successful, now you can log in!"):alert(`Registration failed: ${e.data.message}`)})).catch((e=>{console.error(e),this.errors.login=e.response?.data||"Registration failed"}))},validateFields(){let e=!0;return this.errors.login=this.errors.password="",this.usr.login||(this.errors.login="Login can't be empty",e=!1),this.usr.password||(this.errors.password="Password can't be empty",e=!1),e}}};const xe=(0,s.A)(qe,[["render",Be]]);var ze=xe,je={components:{AuthForm:ze}};const We=(0,s.A)(je,[["render",Ne],["__scopeId","data-v-1aa1d352"]]);var Qe=We;const Ke=[{path:"/",name:"home",component:Ve,meta:{requiresAuth:!0}},{path:"/main",name:"main",component:Ve},{path:"/login",name:"login",component:Qe}],Re=(0,c.aE)({history:(0,c.LA)("/frontend/"),routes:Ke});Re.beforeEach(((e,o,t)=>{e.meta.requiresAuth&&!localStorage.getItem("isAuthorized")?t("/login"):t()}));var Ye=Re,Ze=(0,Me.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,a.Ef)(d).use(Ze).use(Ye).mount("#app")}},o={};function t(a){var r=o[a];if(void 0!==r)return r.exports;var n=o[a]={exports:{}};return e[a].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(o,a,r,n){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],n=e[d][2];for(var s=!0,i=0;i<a.length;i++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](a[i])}))?a.splice(i--,1):(s=!1,n<l&&(l=n));if(s){e.splice(d--,1);var u=r();void 0!==u&&(o=u)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,r,n]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,a){var r,n,l=a[0],s=a[1],i=a[2],u=0;if(l.some((function(o){return 0!==e[o]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(i)var d=i(t)}for(o&&o(a);u<l.length;u++)n=l[u],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(950)}));a=t.O(a)})();
//# sourceMappingURL=app.3b327dd8.js.map